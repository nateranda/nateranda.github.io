<!DOCTYPE html>

<html>
    
    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>
Why you should treat your desktop like a server
</title>

        <link href="/static/favicon.ico" rel="icon">
        <link href="/static/css/reset.css" rel="stylesheet">
        <link href="/static/css/main.css" rel="stylesheet">

    </head>

    <body>
            
<link href="/static/css/markdown.css" rel="stylesheet">

<div class="center">
    <div class="post">
        <div class="title" style="display: inline-grid;">Why you should treat your desktop like a server</div>
        <a class="back" href="/blog/">back</a>
        <div class="date">Oct 13, 2023</div>
        
    </div>
<p>No matter how well you dress it up in fancy clothes, the desktop tower will always be a stain on your workspace. It permanently scars an otherwise clean and managed desk with its big, blocky, loud, and dusty stature. It&#39;s connected to its peripheral appendages with an unsightly, tangled mess of cables that never seem to go where you want them. As a result, there&#39;s no option but to either buy all-wireless peripherals, Bluetooth headphones, and USB hubs to tame the beast and meticulously cable-manage your way to computer nirvana, or subjugate your tower to a shameful spot by your desk, deliberately hidden from view. Surely, we don&#39;t have to treat our computers this way.</p>
<p>And why even have a desktop in the first place? At this point, modern laptops have mostly eclipsed the desktop in both form and functionality. Their portability, compactness, versatility, and ease of use are invaluable in an age of movement and collaboration. And advances in CPU efficiency, especially with the release of Apple Silicon, have axed the need for a big, beefy cooling system. As a result, modern laptops are sleek, quiet, powerful, and more affordable than ever.</p>
<p>However, there are things that desktops are great at that laptops are woefully unequipped for. A major one is GPU-intensive tasks—any relatively demanding game will absolutely clear on a desktop, and so will 3D modeling applications and video rendering. Laptops also can&#39;t handle sustained heavy loads as well as a tower with dedicated cooling, even with gains in efficiency.</p>
<p>So, how do you combine the benefits of both? The answer is to treat your desktop like a server. Use your laptop for most things, either on its own or hooked up to your desktop peripherals, and stream the video output from your actual desktop for more intensive tasks when you need it. This solution may sound clunky, complicated, and ultimately not worth it, but I&#39;ve found a setup that preserves the quick portability of a laptop, the comfort of desktop peripherals, and the power of a dedicated tower.</p>
<p>To make this happen, you will need two pieces of hardware, one of which you probably already have and both of which you might not even need. The first is a dock with a display output, USB hub, power, and Ethernet on one side and a laptop-compatible port on the other. This lets you hook up your laptop to your existing desktop peripherals, so it functions just like a regular tower. You could also just use the existing ports on your laptop for all of these, but I like the simplicity of unplugging only one cable when you need to take it anywhere. The second is a dummy headless HDMI or DisplayPort adapter that plugs into your tower&#39;s graphics card to &quot;trick&quot; it into outputting a video signal. These go for a couple bucks, and some software doesn&#39;t even require this. I would recommend it anyways, though, as it skirts around numerous bugs with mouse cursor rendering and output resolution that arise when you use virtual display drivers.</p>
<p>Once you have all the hardware, the first step is to install your preferred remote desktop software. This could be Parsec, RDP, Sunshine/Moonlight, AnyDesk, or any other desktop mirroring tool as long as it has a low enough latency for your liking. I&#39;ll go into more detail on which is best for your specific use case later. Next, after you have the remote connection up and running and are able to access it when your device powers on, move your desktop to a place that is out of sight and only plug in a power and Ethernet cable. All that&#39;s left is to reroute your existing peripheral cables to your laptop dock, plug your laptop in, and connect to your tower remotely. You&#39;re now able to control your tower like it was sitting on the ground right beside you while still having complete and easy access to your laptop and its operating system.</p>
<p>Once you have your setup dialed in, you can enjoy the numerous benefits it offers. Now that your tower is out of sight, you can put crazy loads on it and let it spin up like a turbine engine without the fear of annoying anyone. Cable management is now much easier, considering that everything but a single power and Ethernet cable lives entirely on your desk. Standing desks greatly benefit from this, as well as desks that don&#39;t have many places to hide cables. The third is that you can run any proprietary software you want on Windows without being limited to using Windows entirely. In my setup, I have a M1 Mac running MacOS with all my Windows-only programs and games on my tower. The same can be done for Linux, letting you run a FOSS system primarily while still keeping all the proprietary work applications or games you need. No need for emulation, dual-booting, or switching systems anymore—it&#39;s all done with one computer running one operating system. You can even remote into your desktop when you&#39;re away from home as long as you have a decent Wi-Fi connection, letting you use system-intensive software on the go without the need for a beefy laptop.</p>
<p>However, there are a few caveats to this setup. The first is that it&#39;s absolutely necessary to plug your desktop into Ethernet to cut down on network latency that will add considerable delay to your video stream. I also recommend doing so on your laptop too, as this can cut the total delay down to mere milliseconds on some software. The second is that no matter how tuned your setup will be, there&#39;s still visible artifacting and sometimes noticeable delay on your stream, at least as the stream gets &quot;warmed up&quot; before it ramps up its bitrate. You could try and solve this with advanced color sampling and crazy high bitrates to get crisp visuals right from the start, but after a minute or two of streaming, it will actually work itself out enough to be mostly unnoticeable. Games that rely heavily on accurate timing or split-second actions, like rhythm games or esports, may still suffer, no matter how dialed your setup is. The third is that much of this software is proprietary and has limited support for streaming setups that aren&#39;t as popular, like Linux and MacOS hosting. This is being steadily improved, though, as existing software supports more operating systems and more software gets introduced.</p>
<p>The big decision is what software to use. In my research, I&#39;ve narrowed it down to Parsec and Sunshine/Moonlight. There are a couple others, like RustDesk and TeamViewer, but those are more focused on providing remote desktop control over bad internet connections and suffer on latency and visuals. Parsec is my favorite out of the bunch. Its client is user-friendly, personal use is free, and the software latency can get down to three milliseconds start-to-finish while keeping crisp visuals. It&#39;s seriously mind-blowing! It&#39;s essentially indistinguishable from using your PC as-is, even when streaming video or playing games. However, I needed to set my bitrate to 100 Mbps in order to get it looking this good, although it normally uses much less than that, and its support for anything but Windows hosts is shoddy. If you want to go full FOSS, using Sunshine as your host and Moonlight as your client is the best bet. Moonlight is essentially a port of Nvidia&#39;s GameStream protocol, and Sunshine adapts Moonlight to all GPUs and full desktop streaming. Moonlight clients are available on basically everything but Samsung smart refrigerators, and Sunshine hosting delivers latency and visuals that are very comparable to those of Parsec. Michael Horn has a <a href="https://www.youtube.com/watch?v=YBH3MAvylVg">great video</a> outlining how this works and how to get it set up on your system.</p>
<p>If you&#39;re still not sold, here are some simple tests of the latency of these two programs as well as other solutions like RustDesk and AnyDesk. The tests were performed simply by running a timer on the host, streaming the video output to the client, and comparing the difference in times between the host and client screens via a photo. These findings are nowhere near scientific—I just did this test to get a sense of how these programs compared.</p>
<p> <img src="/static/images/desktop-server/delay-ms.png" class="center" alt="delay-ms"></p>
<p>As you can see, Parsec takes the lead on latency, followed closely behind by Sunshine and TightVNC. Although this makes TightVNC look like a real contender, while it does well on pure latency, I experienced a whole lot of delays maximizing windows, moving windows around, or doing anything that affected a large chunk of the screen. I wouldn&#39;t recommend using TightVNC for this purpose. Although some programs did better than others, it&#39;s important to note that any wired connection is going to blow any wireless connection out of the water. With the same exact settings, Parsec on a wireless client and wired host performed 100 ms or 6 frames worse compared to an all-wired connection. It&#39;s also worth noting that this test was performed on a 60 Hz panel, meaning that the timer updates at around 16.6 millisecond intervals. This makes it impossible to get sub-frame latencies, and getting more accurate results would require having two 120, 144, or 240 Hz monitors and software that supports transmission over 60 Hz. Thus, it might be more realistic to express these findings as rounded to the nearest frame, with an error of 1 frame in both directions:</p>
<p> <img src="/static/images/desktop-server/delay-nearest-frame.png" class="center" alt="delay-nearest-frame"></p>
<p>In general, I think Parsec is the best option overall. If you need better cross-platform support and/or something that&#39;s open-source, Sunshine/Moonlight is your next best bet. Both of these produce a video stream that is more than adequate, and both are nearly indistinguishable from just hooking your desktop up to a monitor, especially at high refresh rates. They both support extensive user configuration and are free to use. As for me, I quickly uninstalled everything but Parsec after finishing the tests. I hope you found this little exploration insightful, or at least can view your desktop under a different lens now. I would love to see what other people settle on in their own use cases, and it would be cool if this workflow could be improved at all.</p>
</div>

    </body>

</html>